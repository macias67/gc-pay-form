const mp=new MercadoPago("APP_USR-32d13615-32e9-411f-b29b-4768f54d2cf8",{locale:"es-MX"});const bricksBuilder=mp.bricks();const BASE_URL_FORM="https://grupocapitolio.com";const BASE_URL_SERVICE="https://pay.grupocapitolio.com";const url=window.location.search;const params=new URLSearchParams(url);const idp=params.get("idp");if(idp===null){window.location.href=`${BASE_URL_FORM}`}const renderStatusScreenBrick=async(e,n)=>{const t={initialization:{paymentId:n},callbacks:{onReady:()=>{const e=document.getElementById("statusSection");const n=document.getElementById("cardSection");n.classList.add("animate__animated","animate__fadeOutDown");n.addEventListener("animationend",()=>{n.style.display="none";e.classList.add("animate__animated","animate__fadeInUp");e.classList.remove("is-hidden")})},onError:e=>{console.error(e)}},customization:{visual:{showExternalReference:true},backUrls:{error:`${BASE_URL_FORM}/pay/?idp=${idp}`,"return":`${BASE_URL_FORM}/adm/info.php?idp=${idp}&e=approved`}}};window.statusScreenBrickController=await e.create("statusScreen","statusScreenBrick_container",t)};const renderCardPaymentBrick=async a=>{const e={initialization:{amount:10,payer:{}},customization:{visual:{style:{theme:"bootstrap"}},paymentMethods:{minInstallments:1,maxInstallments:1}},callbacks:{onReady:()=>{},onBinChange:e=>{},onSubmit:e=>{e.idp=idp;return new Promise((t,n)=>{console.log(JSON.stringify(e,null,"\t"));fetch(`${BASE_URL_SERVICE}/v1/payment`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>e.json()).then(e=>{let{payment:{id:n}}=e;renderStatusScreenBrick(a,n);t()})["catch"](e=>{console.log(e);n()})})},onError:e=>{console.log(e)}}};window.cardPaymentBrickController=await a.create("cardPayment","cardPaymentBrick_container",e)};renderCardPaymentBrick(bricksBuilder);